steps:
  - id: install
    name: 'gcr.io/cloud-builders/npm'
    args: ['install']

  - id: lint
    name: 'gcr.io/cloud-builders/npm'
    args: ['run', 'lint']

  - id: install-playwright
    name: 'gcr.io/cloud-builders/npm'
    entrypoint: 'npx'
    args: ['playwright', 'install', 'chromium', '--with-deps']
 
  - id: install-playwright-deps
    name: 'gcr.io/cloud-builders/npm'
    entrypoint: 'npx'
    args: ['playwright', 'install-deps']

  - id: tests
    name: 'gcr.io/cloud-builders/npm'
    args: ['run', 'test:e2e']
